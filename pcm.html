<input type="file" id="pcm" /><br>
<p id="status"></p>

<script>
"use strict;"

onload = function() {

  document.getElementById("pcm").onchange = function(e) {

    const file = e.target.files[0];
    const reader = new FileReader(file);
    const length = 8;

    var offset = 0;

    readEventHandler = function(evt) {

      const pcm = new Uint16Array(evt.target.result);
      console.log("size of file", evt.target.result);
      console.log("samples", pcm.length);
      offset += pcm.length;

      for (var i in pcm)
        document.getElementById("status").innerText += i + ": " + pcm[i] + ", ";

      document.getElementById("status").innerText += "\n";

      if (offset >= file.size)
        return;

      readBlock();
    }

    readBlock = function() {

      var r = new FileReader();
      r.onload = readEventHandler;
      r.readAsArrayBuffer(file.slice(offset, length + offset));
    }

    readBlock();
  }
}
</script>
